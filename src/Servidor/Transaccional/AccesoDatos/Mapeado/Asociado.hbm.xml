<?xml version="1.0" encoding="utf-8" ?>
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"
                   assembly="Trascend.Bolet.ObjetosComunes"
                   namespace="Trascend.Bolet.ObjetosComunes.Entidades">

  <class name="Asociado" table="FAC_ASOCIADOS">
    <id name="Id" column="CASOCIADO"/>
    <property name="Nombre" column="XASOCIADO" type="string"/>
    <property name="TipoPersona" column="IPERSONA" type="char"/>
    <property name="Domicilio" column="XDOMICILIO" type="string"/>
    <property name="Contribuyente" column="ICONTRIBUYENTE" type="string"/>
    <property name="Rif" column="XRIF" type="string"/>
    <property name="Nit" column="XNIT" type="string"/>
    <property name="Descuento" column="PDESCUENTO" type="float"/>
    <property name="Telefono1" column="XTELEFONO1" type="string"/>
    <property name="Telefono2" column="XTELEFONO2" type="string"/>
    <property name="Telefono3" column="XTELEFONO3" type="string"/>
    <property name="Fax1" column="XFAX1" type="string"/>
    <property name="Fax2" column="XFAX2" type="string"/>
    <property name="Fax3" column="XFAX3" type="string"/>
    <property name="Email" column="XEMAIL" type="string"/>
    <property name="Web" column="XWEB" type="string"/>
    <property name="DiaCredito" column="DIASC" type="int"/>
    <property name="Activo" column="IACTIVO" type="string"/>
    <property name="EdoCuenta" column="IESTADO" type="char"/>
    <property name="EdoCuentaDigital" column="IDIGITAL" type="string"/>
    <property name="PendienteStatement" column="ITSF" type="char"/>
    <property name="Isf" column="ISP" type="char"/>
    <property name="Alerta" column="IALERTA" type="char"/>
    <property name="AlarmaDescripcion" column="XALERTA" type="string"/>

    <many-to-one name="Pais" class="Pais">
      <column name="CPAIS"/>
    </many-to-one>

    <many-to-one name="Idioma" class="Idioma">
      <column name="CIDIOMA"/>
    </many-to-one>

    <many-to-one name="Moneda" class="Moneda">
      <column name="CMONEDA"/>
    </many-to-one>

    <many-to-one name="TipoCliente" class="TipoCliente">
      <column name="CTIPO"/>
    </many-to-one>

    <many-to-one name="Tarifa" class="Tarifa">
      <column name="COD_TAR"/>
    </many-to-one>

    <many-to-one name="Etiqueta" class="Etiqueta">
      <column name="CODETI"/>
    </many-to-one>

    <many-to-one name="DetallePago" class="DetallePago">
      <column name="CODPG"/>
    </many-to-one>

    <bag name="Cartas">
      <key column="CODIGO"/>
      <one-to-many class="Carta" not-found="ignore"/>
    </bag>

    <!--<bag name="Contactos" inverse="true">
      <key>
        --><!-- foreign key --><!--
        <column name="CNUMERO"/>
      </key>
      <one-to-many class="Contacto" not-found="ignore"/>
    </bag>-->

    <bag name="Contactos" table="FAC_CONTACTOS" inverse="true" generic="true">
      <key column="CNUMERO"/>
      <composite-element class="Contacto">
        <many-to-one name="Asociado" class="Asociado" column="CASOCIADO"/>
      </composite-element>
    </bag>



    <!--<bag name="Contactos">
      <key>    
        <column name="CNUMERO" />
        <column name="CASOCIADO" />
      </key>
      <one-to-many class="Contacto" not-found="ignore"/>
    </bag>-->

    <bag name="Justificaciones" table="FAC_ASO_JUST">
      <key column="CASOCIADO"/>
      <composite-element class="Justificacion">
        <parent name="Asociado"/>
        <many-to-one name="Carta" class="Carta" column="CCARTA"/>
        <property name="Fecha" column="FECHA" type="DateTime"/>
        <many-to-one name="Concepto" class="Concepto">
          <column name="CCONCEPTO"/>
        </many-to-one>
      </composite-element>
    </bag>

  </class>
</hibernate-mapping>

